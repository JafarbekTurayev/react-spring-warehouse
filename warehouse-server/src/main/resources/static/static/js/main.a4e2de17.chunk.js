(this["webpackJsonpwarehouse-client"]=this["webpackJsonpwarehouse-client"]||[]).push([[0],{351:function(e,t,n){"use strict";n.r(t),n.d(t,"baza",(function(){return F}));var c=n(1),r=n(8),o=n.n(r),l=n(19),s=n(15),i=n.n(s),a=n(4),d="http://localhost/api/",u=localStorage.getItem("warehouse-token"),j={headers:{Authorization:u}},b=n(3),p=function(){var e=Object(a.g)();return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)(l.AvForm,{onValidSubmit:function(t,n){console.log(n),i.a.post(d+"auth/login",n).then((function(t){console.log(t),localStorage.setItem("warehouse-token","Bearer "+t.data),e("/admin")}))},children:[Object(b.jsx)(l.AvField,{name:"userName",label:"Telefon nomer",required:!0}),Object(b.jsx)(l.AvField,{name:"password",label:"Parol",required:!0}),Object(b.jsx)("button",{type:"submit",className:"btn btn-success",children:"Login"})]})})})},h=n(24),O=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(h.b,{to:"/measurement",children:"Meas page"}),Object(b.jsx)("br",{}),Object(b.jsx)(h.b,{to:"/supplier",children:"Supplier page"}),Object(b.jsx)("br",{}),Object(b.jsx)(h.b,{to:"/currency",children:"Currency page"}),Object(b.jsx)("br",{}),Object(b.jsx)(h.b,{to:"/input",children:"Input page"}),Object(b.jsx)("br",{}),Object(b.jsx)(h.b,{to:"/product",children:"Product page"}),Object(b.jsx)("br",{})]})})},m=function(){return Object(b.jsx)("div",{children:null!=u?Object(b.jsx)(O,{}):Object(b.jsx)(a.a,{to:"/login"})})},x=n(5),f="get_sup",v="updateState",g=n(6),S=function(e){return console.log("update"),{type:v,payload:e}};function M(){return function(e){i.a.get(d+"supplier",j).then((function(t){e(S({suppliers:t.data}))})).catch((function(e){console.log(e),g.b.error("Xatolik!")}))}}var k=n(40),N=Object(k.b)((function(e){return console.log(e),{suppliers:e.app.suppliers,me:e.app.currentUser,modalOpen:e.app.modalOpen,deleteModal:e.app.deleteModal,currentSupplier:e.app.currentSupplier,deleteSupplierId:e.app.deleteSupplierId}}),{getSuppliers:M,updateState:S,editSupplier:function(e,t){return function(n){i.a.put(d+"supplier/"+e,t,j).then((function(e){console.log(e),e.data.success?(g.b.success("UPDATED!"),M()):g.b.error("Xatolik!")})).catch((function(e){console.log(e),g.b.error("Xatolik!")}))}},addSupplier:function(e){return function(t){i.a.post(d+"supplier",e,j).then((function(e){console.log(e),e.data.success?g.b.success("Saved!"):g.b.error("Xatolik!")})).catch((function(e){console.log(e),g.b.error("Xatolik!")}))}},deleteSupplier:function(e){return function(t){i.a.delete(d+"supplier/"+e,j).then((function(e){M(),console.log(e),e.data?g.b.success("DELETED!"):g.b.error("Xatolik!")})).catch((function(e){console.log(e),g.b.error("Xatolik!")}))}}})((function(e){Object(c.useEffect)((function(){e.getSuppliers()}),[]);var t=function(){e.updateState({modalOpen:!e.modalOpen})},n=function(){e.updateState({deleteModal:!e.deleteModal})};return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("button",{className:"btn btn-success",onClick:function(){return t()},children:"Add Supplier"})})}),Object(b.jsx)("div",{className:"row mt-5",children:Object(b.jsxs)(x.Table,{bordered:!0,hover:!0,responsive:!0,striped:!0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"#"}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"PhoneNumber"}),Object(b.jsx)("th",{children:"Operations"})]})}),Object(b.jsx)("tbody",{children:e.suppliers.map((function(t,n){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:n+1}),Object(b.jsx)("td",{children:t.name}),Object(b.jsx)("td",{children:t.phoneNumber}),Object(b.jsxs)("td",{children:[Object(b.jsx)("button",{className:"btn btn-warning",onClick:function(){return n=t,void e.updateState({modalOpen:!e.modalOpen,currentSupplier:n});var n},children:"EDIT"}),Object(b.jsx)("button",{className:"btn btn-danger",onClick:function(){return n=t,void e.updateState({deleteModal:!e.deleteModal,deleteSupplierId:n.id});var n},children:"DELETE"})]})]},n)}))})]})})]}),Object(b.jsxs)(x.Modal,{isOpen:e.modalOpen,children:[Object(b.jsx)(x.ModalHeader,{toggle:function(){return t()},children:"Supplier qo'shish"}),Object(b.jsx)(x.ModalBody,{children:Object(b.jsxs)(l.AvForm,{onValidSubmit:function(n,c){void 0!==e.currentSupplier?(e.editSupplier(e.currentSupplier.id,c),e.getSuppliers(),t()):(e.addSupplier(c),e.getSuppliers(),t())},children:[Object(b.jsx)(l.AvField,{name:"name",label:"Nomi",required:!0,value:e.currentSupplier?e.currentSupplier.name:""}),Object(b.jsx)(l.AvField,{name:"phoneNumber",label:"Telefon nomer",required:!0,value:e.currentSupplier?e.currentSupplier.phoneNumber:""}),Object(b.jsx)("button",{type:"submit",children:"Save"})]})})]}),Object(b.jsxs)(x.Modal,{isOpen:e.deleteModal,children:[Object(b.jsx)(x.ModalHeader,{toggle:function(){return n()},children:"O'chirishni tasdiqlaysizmi?"}),Object(b.jsxs)(x.ModalBody,{children:[Object(b.jsx)("button",{onClick:function(){return e.deleteSupplier(e.deleteSupplierId),void n()},children:"Xa"}),Object(b.jsx)("button",{onClick:function(){return n()},children:"Yo'q"})]})]})]})})})),I=function(e){return{type:v,payload:e}};function y(){return function(e){i.a.get(d+"measurement",j).then((function(t){console.log(t),e(I({measurements:t.data}))})).catch((function(e){console.log(e),g.b.error("Xatolik!")}))}}var E=Object(k.b)((function(e){return console.log(e),{measurements:e.meas.measurements,modalOpen:e.meas.modalOpen,deleteModal:e.meas.deleteModal,currentItem:e.meas.currentItem,deleteId:e.meas.deleteId}}),{getMeasurements:y,updateState:I,editMeas:function(e,t){return function(n){i.a.put(d+"measurement/"+e,t,j).then((function(e){console.log(e),e.data.success?(g.b.success("UPDATED!"),y()):g.b.error("Xatolik!")})).catch((function(e){console.log(e),g.b.error("Xatolik!")}))}},addMeas:function(e){return function(t){i.a.post(d+"measurement",e,j).then((function(e){console.log(e),e.data.success?g.b.success("Saved!"):g.b.error("Xatolik!")})).catch((function(e){console.log(e),g.b.error("Xatolik!")}))}},deleteMeas:function(e){return function(t){i.a.delete(d+"measurement/"+e,j).then((function(e){y(),console.log(e),e.data?g.b.success("DELETED!"):g.b.error("Xatolik!")})).catch((function(e){console.log(e),g.b.error("Xatolik!")}))}}})((function(e){Object(c.useEffect)((function(){e.getMeasurements()}),[]);var t=function(){e.updateState({modalOpen:!e.modalOpen})},n=function(){e.updateState({deleteModal:!e.deleteModal})};return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-3",children:Object(b.jsx)("button",{className:"btn btn-success",onClick:function(){return t()},children:"Add Measurement"})})}),Object(b.jsx)("div",{className:"row mt-5",children:Object(b.jsxs)(x.Table,{bordered:!0,hover:!0,responsive:!0,striped:!0,children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"#"}),Object(b.jsx)("th",{children:"Name"}),Object(b.jsx)("th",{children:"Operations"})]})}),Object(b.jsx)("tbody",{children:null===e||void 0===e?void 0:e.measurements.map((function(t,n){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:n+1}),Object(b.jsx)("td",{children:t.name}),Object(b.jsxs)("td",{children:[Object(b.jsx)("button",{className:"btn btn-warning",onClick:function(){return n=t,void e.updateState({modalOpen:!e.modalOpen,currentItem:n});var n},children:"EDIT"}),Object(b.jsx)("button",{className:"btn btn-danger",onClick:function(){return n=t,void e.updateState({deleteModal:!e.deleteModal,deleteId:n.id});var n},children:"DELETE"})]})]},n)}))})]})})]}),Object(b.jsxs)(x.Modal,{isOpen:e.modalOpen,children:[Object(b.jsx)(x.ModalHeader,{toggle:function(){return t()},children:"Measurement qo'shish"}),Object(b.jsx)(x.ModalBody,{children:Object(b.jsxs)(l.AvForm,{onValidSubmit:function(n,c){void 0!==e.currentItem?(e.editMeas(e.currentItem.id,c),e.getMeasurements(),t()):(e.addMeas(c),e.getMeasurements(),t())},children:[Object(b.jsx)(l.AvField,{name:"name",label:"Nomi",required:!0,value:e.currentItem?e.currentItem.name:""}),Object(b.jsx)("button",{type:"submit",children:"Save"})]})})]}),Object(b.jsxs)(x.Modal,{isOpen:e.deleteModal,children:[Object(b.jsx)(x.ModalHeader,{toggle:function(){return n()},children:"O'chirishni tasdiqlaysizmi?"}),Object(b.jsxs)(x.ModalBody,{children:[Object(b.jsx)("button",{onClick:function(){return e.deleteMeas(e.deleteId),void n()},children:"Xa"}),Object(b.jsx)("button",{onClick:function(){return n()},children:"Yo'q"})]})]})]})})})),w=function(){return Object(b.jsxs)("div",{children:[Object(b.jsxs)(a.d,{children:[Object(b.jsx)(a.b,{exact:!0,path:"/",element:Object(b.jsx)(m,{}),children:Object(b.jsx)(a.b,{exact:!0,path:"/",element:Object(b.jsx)(O,{})})}),Object(b.jsx)(a.b,{exact:!0,path:"/login",element:Object(b.jsx)(p,{})}),Object(b.jsx)(a.b,{exact:!0,path:"/supplier",element:Object(b.jsx)(N,{})}),Object(b.jsx)(a.b,{exact:!0,path:"/measurement",element:Object(b.jsx)(E,{})})]}),Object(b.jsx)(g.a,{})]})},X=(n(348),n(349),n(350),n(42)),A=n(151),D=n(43),T={modalOpen:!1,deleteModal:!1,currentSupplier:void 0,deleteSupplierId:void 0,suppliers:[],categories:[],products:[],currentUser:{}},q={modalOpen:!1,deleteModal:!1,currentItem:void 0,deleteId:void 0,measurements:[]},C=Object(X.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case v:return console.log("reducer"),Object(D.a)(Object(D.a)({},e),t.payload);case f:return;default:return e}},meas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case v:return Object(D.a)(Object(D.a)({},e),t.payload);default:return e}}}),F=Object(X.d)(C,Object(X.c)(Object(X.a)(A.a)));o.a.render(Object(b.jsx)(h.a,{children:Object(b.jsx)(k.a,{store:F,children:Object(b.jsx)(w,{})})}),document.getElementById("root"))}},[[351,1,2]]]);
//# sourceMappingURL=main.a4e2de17.chunk.js.map